<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çˆ±æ™ºæ£±é•œ | å“²å­¦æƒ…äººèŠ‚</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --existentialism: #ff6b6b;
            --nihilism: #4ecdc4;
            --essentialism: #ff9f43;
            --phenomenology: #54a0ff;
            --stoicism: #8395a7;
            --deconstruction: #f368e0;
            --absurdism: #00d2d3;
            --utilitarianism: #2ecc71;
        }

        body {
            background: radial-gradient(circle at top left, 
                rgba(255,107,107,0.1) 0%, 
                rgba(78,205,196,0.1) 100%);
            min-height: 100vh;
            font-family: 'Georgia', serif;
            margin: 0;
            padding: 2rem;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .dialogue-card {
            background: rgba(255,255,255,0.97);
            border-radius: 24px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 12px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.03);
            backdrop-filter: blur(20px);
        }

        .option-card {
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 16px;
            background: rgba(255,126,182,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
            position: relative;
            overflow: hidden;
        }

        .option-card:hover {
            transform: rotateY(10deg) translateX(10px);
        }

        .philosophy-indicator {
            height: 8px;
            background: rgba(0,0,0,0.1);
            border-radius: 4px;
            margin: 2rem 0;
        }

        .philosophy-progress {
            height: 100%;
            background: var(--existentialism);
            width: 0;
            transition: width 0.6s ease;
            border-radius: 4px;
        }

        .result-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: white;
            padding: 3rem;
            border-radius: 32px;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            max-width: 600px;
            width: 90%;
            text-align: center;
        }

        .modal-visible {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .radar-chart {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="dialogue-card" id="dialogueBox">
            <h1>ğŸ’­ çˆ±ä¹‹æ£±é•œ</h1>
            <div class="philosophy-indicator">
                <div class="philosophy-progress" id="progressBar"></div>
            </div>
            <div id="questionContainer"></div>
        </div>
    </div>

    <div class="result-modal" id="resultModal">
        <h2>ä½ çš„çˆ±æƒ…å­˜åœ¨ä¸»ä¹‰</h2>
        <div id="philosophyReport"></div>
    </div>

<script>
class LovePhilosophyGame {
    constructor() {
        this.questions = [
            {
                text: "ä½ è®¤ä¸ºçˆ±æƒ…çš„æœ¬è´¨æ›´æ¥è¿‘äºï¼š",
                options: [
                    { 
                        text: "å¯¹æŠ—è™šæ— çš„ç”Ÿå­˜é€‰æ‹©",
                        philosophy: ['existentialism', 'absurdism'],
                        quote: "è¨ç‰¹ï¼šå­˜åœ¨å…ˆäºæœ¬è´¨"
                    },
                    { 
                        text: "çµé­‚å¯¹å®Œç¾å½¢å¼çš„è¿½å¯»", 
                        philosophy: ['essentialism', 'platonism'],
                        quote: "æŸæ‹‰å›¾ï¼šçˆ±æ¬²æ˜¯é€šå‘æ™ºæ…§çš„é˜¶æ¢¯"
                    }
                ]
            },
            {
                text: "çˆ±æƒ…ä¸­çš„'æ°¸æ’'æ„å‘³ç€ï¼š",
                options: [
                    { 
                        text: "æ— æ•°æ­¤åˆ»çš„è¿ç»­åˆ›é€ ",
                        philosophy: ['existentialism', 'process'],
                        quote: "æŸæ ¼æ£®ï¼šæ—¶é—´æ˜¯ç»µå»¶çš„åˆ›é€ "
                    },
                    { 
                        text: "è¶…è¶Šæ—¶é—´çš„ç†å¿µå­˜åœ¨",
                        philosophy: ['essentialism', 'metaphysics'],
                        quote: "äºšé‡Œå£«å¤šå¾·ï¼šæ°¸æ’æ˜¯è¿åŠ¨çš„å°ºåº¦"
                    }
                ]
            },
            {
                text: "ç†è§£çˆ±æƒ…çš„æœ€ä½³é€”å¾„æ˜¯ï¼š",
                options: [
                    { 
                        text: "ç°è±¡å­¦çš„ç›´è§‚ä½“éªŒ",
                        philosophy: ['phenomenology', 'intuitionism'],
                        quote: "èƒ¡å¡å°”ï¼šå›åˆ°äº‹ç‰©æœ¬èº«ï¼"
                    },
                    { 
                        text: "é€»è¾‘åˆ†æçš„ç†æ€§è§£å‰–",
                        philosophy: ['logicism', 'positivism'],
                        quote: "ç»´ç‰¹æ ¹æ–¯å¦ï¼šå‡¡ä¸å¯è¯´çš„ï¼Œåº”å½“æ²‰é»˜"
                    }
                ]
            },
            {
                text: "çˆ±æƒ…ä¸­çš„ç—›è‹¦æœ¬è´¨æ˜¯ï¼š",
                options: [
                    { 
                        text: "è‡ªæˆ‘è¶…è¶Šçš„ç‚¼é‡‘ä¹‹ç«",
                        philosophy: ['existentialism', 'dialectics'],
                        quote: "é»‘æ ¼å°”ï¼šçŸ›ç›¾æ˜¯æ¨åŠ¨ä¸–ç•Œçš„åŸåˆ™"
                    },
                    { 
                        text: "åº”å½“æ¶ˆé™¤çš„éç†æ€§å¹»è§‰",
                        philosophy: ['stoicism', 'rationalism'],
                        quote: "æ–¯å®¾è¯ºèï¼šä¸è¦å“­ï¼Œä¸è¦ç¬‘ï¼Œè¦ç†è§£"
                    }
                ]
            },
            {
                text: "çˆ±æƒ…ä¸­çš„æ‰¿è¯ºæ„å‘³ç€ï¼š",
                options: [
                    { 
                        text: "è‡ªç”±é€‰æ‹©çš„è‡ªæˆ‘é™å®š",
                        philosophy: ['existentialism', 'authenticity'],
                        quote: "å…‹å°”å‡¯éƒ­å°”ï¼šé€‰æ‹©æˆä¸ºä½ è‡ªå·±"
                    },
                    { 
                        text: "å‘½è¿å¿…ç„¶æ€§çš„æ˜¾ç°",
                        philosophy: ['determinism', 'essentialism'],
                        quote: "å”æœ¬åï¼šäººçš„è¡Œä¸ºå°±åƒè¡Œæ˜Ÿçš„è½¨é“"
                    }
                ]
            },
            {
                text: "çˆ±äººæœ€æœ¬è´¨çš„ç‰¹å¾æ˜¯ï¼š",
                options: [
                    { 
                        text: "æ°¸è¿œæ— æ³•å®Œå…¨è®¤çŸ¥çš„è°œé¢˜",
                        philosophy: ['alterity', 'deconstruction'],
                        quote: "åˆ—ç»´çº³æ–¯ï¼šä»–è€…çš„é¢å­”æ˜¯æ— é™çš„"
                    },
                    { 
                        text: "å¯ä»¥ç†æ€§æŠŠæ¡çš„è®¤çŸ¥å¯¹è±¡", 
                        philosophy: ['logicism', 'empiricism'],
                        quote: "æ´›å…‹ï¼šå¿ƒçµæ˜¯ä¸€å—ç™½æ¿"
                    }
                ]
            },
            {
                text: "çˆ±æƒ…ä¸­çš„é“å¾·è´£ä»»æºäºï¼š",
                options: [
                    { 
                        text: "è‡ªæˆ‘ç«‹æ³•çš„ç»å¯¹å‘½ä»¤",
                        philosophy: ['kantianism', 'deontology'],
                        quote: "åº·å¾·ï¼šäººæ˜¯ç›®çš„ï¼Œä¸æ˜¯æ‰‹æ®µ"
                    },
                    { 
                        text: "æœ€å¤§å¹¸ç¦çš„åŠŸåˆ©è®¡ç®—",
                        philosophy: ['utilitarianism', 'hedonism'],
                        quote: "è¾¹æ²ï¼šå¿«ä¹ä¸ç—›è‹¦çš„ç»Ÿæ²»è€…"
                    }
                ]
            },
            {
                text: "çˆ±æƒ…æœ€æ ¹æœ¬çš„ä»·å€¼åœ¨äºï¼š",
                options: [
                    { 
                        text: "èµ‹äºˆè’è¯ä¸–ç•Œä»¥æ„ä¹‰",
                        philosophy: ['absurdism', 'nihilism'],
                        quote: "åŠ ç¼ªï¼šåœ¨æ— æ„ä¹‰çš„åºŸå¢Ÿä¸Šé‡ç”Ÿ"
                    },
                    { 
                        text: "é€šå‘è¶…è¶Šçš„ç²¾ç¥é˜¶æ¢¯",
                        philosophy: ['transcendentalism', 'mysticism'],
                        quote: "å¥¥å¤æ–¯ä¸ï¼šæˆ‘ä»¬çš„å¿ƒæ°¸è¿œä¸å®‰"
                    }
                ]
            }
        ];

        this.philosophyWeights = {
            'existentialism': 0,
            'essentialism': 0,
            'phenomenology': 0,
            'stoicism': 0,
            'deconstruction': 0,
            'absurdism': 0,
            'utilitarianism': 0,
            'platonism': 0,
            'nihilism': 0,
            'kantianism': 0
        };
        this.currentStep = 0;
    }

    init() {
        this.renderQuestion();
        document.addEventListener('click', this.createHeartParticle.bind(this));
    }

    renderQuestion() {
        const container = document.getElementById('questionContainer');
        const currentQ = this.questions[this.currentStep];
        
        container.innerHTML = `
            <h3>å‘½é¢˜ ${this.currentStep + 1}/${this.questions.length}</h3>
            <p>${currentQ.text}</p>
            ${currentQ.options.map((opt, i) => `
                <div class="option-card" onclick="game.handleAnswer(${i})">
                    ${opt.text}
                </div>
            `).join('')}
        `;

        this.updateProgress();
    }

    handleAnswer(optionIndex) {
        const selected = this.questions[this.currentStep].options[optionIndex];
        selected.philosophy.forEach(philo => this.philosophyWeights[philo]++);
        
        this.currentStep++;
        this.currentStep >= this.questions.length ? this.showResult() : this.renderQuestion();
    }

    updateProgress() {
        const progress = (this.currentStep / this.questions.length) * 100;
        document.getElementById('progressBar').style.width = `${progress}%`;
    }

    showResult() {
        const modal = document.getElementById('resultModal');
        modal.classList.add('modal-visible');
        
        document.getElementById('philosophyReport').innerHTML = this.generatePhilosophyReport();
        this.generateRadarChart();
    }

    generateRadarChart() {
        const data = {
            labels: Object.keys(this.philosophyWeights),
            datasets: [{
                label: 'å“²å­¦å€¾å‘',
                data: Object.values(this.philosophyWeights),
                backgroundColor: 'rgba(255,107,107,0.2)',
                borderColor: 'var(--existentialism)',
                pointBackgroundColor: 'var(--existentialism)',
                pointBorderColor: '#fff'
            }]
        };

        new Chart(document.getElementById('philosophyRadar'), {
            type: 'radar',
            data: data,
            options: {
                scales: {
                    r: {
                        beginAtZero: true,
                        max: Math.max(...Object.values(this.philosophyWeights)) + 2
                    }
                }
            }
        });
    }

    getPhilosophyDescription(philo) {
        const descriptions = {
            'existentialism': 'é‡è§†è‡ªç”±é€‰æ‹©å’Œå½“ä¸‹ä½“éªŒï¼Œè®¤ä¸ºçˆ±æ˜¯è‡ªæˆ‘åˆ›é€ çš„äº§ç‰©',
            'nihilism': 'æ€€ç–‘ç»å¯¹æ„ä¹‰ï¼Œä½†å¯èƒ½ä»ä¸­è·å¾—é€‰æ‹©çš„è‡ªç”±',
            'essentialism': 'ç›¸ä¿¡çˆ±çš„æ°¸æ’æœ¬è´¨å’Œé¢„å®šè®ºè‰²å½©',
            'phenomenology': 'å…³æ³¨çˆ±çš„ä½“éªŒæœ¬èº«è€ŒéæŠ½è±¡æ¦‚å¿µ',
            'stoicism': 'å¼ºè°ƒæƒ…æ„Ÿçš„ç†æ€§å’Œè‡ªæˆ‘æ§åˆ¶',
            'deconstruction': 'è§£æ„ä¼ ç»Ÿæ¦‚å¿µï¼Œå…³æ³¨å·®å¼‚å’ŒæµåŠ¨æ€§',
            'absurdism': 'åœ¨è’è¯ä¸­å¯»æ‰¾åæŠ—å’Œè‡ªç”±',
            'utilitarianism': 'è¿½æ±‚æœ€å¤§å¹¸ç¦å’Œå®é™…æ•ˆç›Š'
        };
        return descriptions[philo] || 'ç‹¬ç‰¹çš„äººæ ¼æ¶æ„éœ€è¦ä¸ªæ€§åŒ–è§£è¯»';
    }

    generatePhilosophyReport() {
        const mainPhilosophy = Object.entries(this.philosophyWeights)
            .reduce((a, b) => a[1] > b[1] ? a : b)[0];

        const frameworks = {
            'existentialism': {
                color: 'var(--existentialism)',
                title: 'å­˜åœ¨ä¸»ä¹‰ç¯å¡”',
                quote: 'è¨ç‰¹ï¼šäººæ˜¯ä¸€å †æ— ç”¨çš„æ¿€æƒ…',
                analysis: 'ä½ çš„é€‰æ‹©å±•ç°å‡ºå¼ºçƒˆçš„è‡ªç”±æ„å¿—ï¼Œåœ¨ä¸Šå¸å·²æ­»çš„ä¸–ç•Œé‡Œï¼Œæ¯æ®µå…³ç³»éƒ½æ˜¯è‡ªæˆ‘å®šä¹‰çš„è‹±å‹‡å°è¯•ã€‚ä½†éœ€è­¦æƒ•ç»å¯¹è‡ªç”±å¸¦æ¥çš„è´£ä»»é‡è´Ÿã€‚'
            },
            'essentialism': {
                color: 'var(--essentialism)',
                title: 'æœ¬è´¨ä¸»ä¹‰ç¥æ®¿',
                quote: 'äºšé‡Œå£«å¤šå¾·ï¼šæ•´ä½“å¤§äºéƒ¨åˆ†ä¹‹å’Œ',
                analysis: 'ä½ è¿½æ±‚æŸæ‹‰å›¾å¼çš„æ°¸æ’ä¹‹çˆ±ï¼Œè¿™ç§ç†å¿µå¦‚åŒã€Šä¼šé¥®ç¯‡ã€‹ä¸­è®²è¿°çš„çƒå½¢äººç¥è¯ã€‚ä½†è¦å°å¿ƒç†å¿µä¸–ç•Œå¯¹ç°å®å¤æ‚æ€§çš„é®è”½ã€‚'
            },
            'phenomenology': {
                color: 'var(--phenomenology)',
                title: 'ç°è±¡å­¦æ£±é•œ',
                quote: 'æ¢…æ´›-åºè’‚ï¼šèº«ä½“æ˜¯ä¸–ç•Œçš„åª’ä»‹',
                analysis: 'ä½ ä¸“æ³¨äºçˆ±æƒ…çš„ç°è±¡å­¦è¿˜åŸï¼Œåœ¨å…·èº«åŒ–ä½“éªŒä¸­æŠŠæ¡çˆ±çš„æœ¬è´¨ã€‚ä½†è¦è­¦æƒ•è¿‡åº¦ä¸»è§‚åŒ–çš„è®¤çŸ¥å±€é™ã€‚'
            }
        };

        const framework = frameworks[mainPhilosophy] || {
            color: '#666',
            title: 'å“²å­¦ä¸‡èŠ±ç­’',
            quote: 'èµ«æ‹‰å…‹åˆ©ç‰¹ï¼šä¸€åˆ‡çš†æµ',
            analysis: 'ä½ çš„çˆ±æƒ…å“²å­¦åœ¨çŸ›ç›¾ä¸­ç»½æ”¾ç‹¬ç‰¹å…‰èŠ’'
        };

        return `
            <div style="border-left: 4px solid ${framework.color}; padding-left: 1rem; text-align: left">
                <h3 style="color:${framework.color}">${framework.title}</h3>
                <blockquote>${framework.quote}</blockquote>
                <p>${framework.analysis}</p>
                <div class="radar-chart">
                    <canvas id="philosophyRadar"></canvas>
                </div>
                <h4>è¯¦ç»†ç»´åº¦åˆ†æï¼š</h4>
                ${Object.entries(this.philosophyWeights)
                    .sort((a, b) => b[1] - a[1])
                    .map(([philo, score]) => `
                        <div style="margin: 10px 0; padding: 8px; background: ${this.getPhilosophyColor(philo)}20; border-radius: 8px">
                            <strong>${philo}</strong>: ${score} åˆ†<br>
                            <small>${this.getPhilosophyDescription(philo)}</small>
                        </div>
                    `).join('')}
            </div>
        `;
    }

    getPhilosophyColor(philo) {
        const colorMap = {
            'existentialism': 'var(--existentialism)',
            'essentialism': 'var(--essentialism)',
            'phenomenology': 'var(--phenomenology)',
            'stoicism': 'var(--stoicism)',
            'deconstruction': 'var(--deconstruction)',
            'absurdism': 'var(--absurdism)',
            'utilitarianism': 'var(--utilitarianism)'
        };
        return colorMap[philo] || '#666';
    }

    createHeartParticle(e) {
        const heart = document.createElement('div');
        heart.className = 'heart-particle';
        heart.style.cssText = `
            position: absolute;
            left: ${e.pageX}px;
            top: ${e.pageY}px;
            animation: float 3s ease-out forwards;
            pointer-events: none;
            font-size: 24px;
        `;
        heart.innerHTML = 'â¤ï¸';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);
    }
}

const game = new LovePhilosophyGame();
window.onload = () => game.init();
</script>
</body>
</html>
